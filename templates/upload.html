{% extends "layout.html" %} {% block content %} <div class="h-[100dvh] flex items-center justify-center p-4 pb-24 overflow-y-auto"> <form id="uploadForm" method="POST" enctype="multipart/form-data" class="glass p-6 rounded-3xl w-full max-w-lg flex flex-col gap-4 animate__animated animate__zoomIn"> <h2 class="text-2xl font-bold text-center">HÄ±zlÄ± YÃ¼kle</h2> <div class="border-2 border-dashed border-gray-600 rounded-xl p-4 relative bg-black min-h-[400px] flex items-center justify-center overflow-hidden cursor-pointer hover:border-red-500 transition"> <input type="file" name="file" id="videoFile" accept="video/*" class="absolute inset-0 w-full h-full opacity-0 cursor-pointer z-30" required onchange="previewVideo(this)"> <div id="uploadPlaceholder" class="flex flex-col items-center pointer-events-none"> <span class="text-4xl mb-2">ğŸ¬</span> <p class="text-gray-400 text-sm">9:16 Video SeÃ§</p> </div> <video id="previewPlayer" class="hidden w-full h-full object-contain z-10" autoplay muted loop></video> </div> <select name="category" class="p-4 rounded-xl bg-white/5 border border-white/10 outline-none text-gray-300"> <option value="Genel">Kategori SeÃ§</option> <option value="EÄŸlence">EÄŸlence</option> <option value="Oyun">Oyun</option> <option value="Spor">Spor</option> <option value="MÃ¼zik">MÃ¼zik</option> <option value="Teknoloji">Teknoloji</option> <option value="Haber">Haber</option> </select> <textarea name="caption" placeholder="AÃ§Ä±klama... (KÃ¼fÃ¼r yasak!)" class="p-4 rounded-xl bg-white/5 border border-white/10 outline-none h-24"></textarea> <button type="submit" id="submitBtn" class="bg-red-600 py-4 rounded-xl font-bold hover:bg-red-700 transition">PaylaÅŸ ğŸš€</button> </form> </div> <script> function previewVideo(input) { const file = input.files[0]; if (file) { const video = document.getElementById('previewPlayer'); const placeholder = document.getElementById('uploadPlaceholder'); const objectUrl = URL.createObjectURL(file); video.src = objectUrl; video.onloadedmetadata = function() { const ratio = video.videoWidth / video.videoHeight; if (ratio > 0.65) { alert("âŒ HATA: LÃ¼tfen sadece 9:16 (Dikey) video yÃ¼kleyin! (TikTok/Reels formatÄ±)"); input.value = ""; video.src = ""; return; } if (video.duration > 210) { alert("âš ï¸ Video Ã§ok uzun! Maksimum 3.5 dakika olabilir."); input.value = ""; video.src = ""; return; } placeholder.classList.add('hidden'); video.classList.remove('hidden'); } } } </script> {% endblock %} 