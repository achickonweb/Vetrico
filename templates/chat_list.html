{% extends "layout.html" %} {% block content %} <div class="h-full overflow-y-auto p-4 md:p-8 w-full max-w-2xl mx-auto pb-24"> <h1 class="text-3xl font-bold mb-8">Mesajlar</h1> <div class="space-y-2"> {% for chat in conversations %} <a href="/messages/{{ chat.user.id }}" class="flex items-center gap-4 glass p-4 rounded-xl hover:bg-white/5 transition animate__animated animate__fadeInUp"> {% if chat.user.avatar %}<img src="/static/avatars/{{ chat.user.avatar }}" class="w-12 h-12 rounded-full object-cover">{% else %}<div class="w-12 h-12 bg-gray-700 rounded-full flex items-center justify-center font-bold text-lg">{{ chat.user.username[0] | upper }}</div>{% endif %} <div class="flex-1"> <div class="flex justify-between"> <h3 class="font-bold">@{{ chat.user.username }}</h3> <span class="text-xs text-gray-500">{{ chat.last_msg.timestamp.strftime('%d %b') }}</span> </div> <p class="text-sm text-gray-400 truncate">{{ chat.last_msg.body }}</p> </div> {% if not chat.last_msg.is_read and chat.last_msg.recipient_id == current_user.id %} <div class="w-3 h-3 bg-red-600 rounded-full"></div> {% endif %} </a> {% else %} <div class="text-center py-10"> <p class="text-gray-500 mb-4">Henüz mesajlaşma yok.</p> <a href="/search" class="bg-white/10 px-6 py-2 rounded-full hover:bg-white/20">Arkadaş Ara</a> </div> {% endfor %} </div> </div> {% endblock %}