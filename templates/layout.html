<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, interactive-widget=resizes-content">
    <title>Vetrico</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        ::-webkit-scrollbar { width: 0px; background: transparent; }
        * { -webkit-tap-highlight-color: transparent; }
        body, html { margin: 0; padding: 0; height: 100%; width: 100%; background-color: #000; color: #fff; font-family: 'Outfit', sans-serif; overflow: hidden; }
        .full-dvh { height: 100dvh; }
        .glass { background: rgba(20, 20, 20, 0.6); backdrop-filter: blur(20px); border-top: 1px solid rgba(255, 255, 255, 0.1); }
        .glass-pc { background: rgba(255, 255, 255, 0.05); backdrop-filter: blur(24px); border: 1px solid rgba(255, 255, 255, 0.08); }
        .shorts-wrapper { height: 100dvh; width: 100%; overflow-y: scroll; scroll-snap-type: y mandatory; scroll-behavior: smooth; }
        .video-section { height: 100dvh; width: 100%; scroll-snap-align: start; scroll-snap-stop: always; }
        @keyframes slideInUpFade { from { opacity: 0; transform: translateY(15px); } to { opacity: 1; transform: translateY(0); } }
        .page-enter { animation: slideInUpFade 0.4s cubic-bezier(0.16, 1, 0.3, 1) forwards; }
        .z-modal { z-index: 9999 !important; }
        #mobile-nav { transition: transform 0.3s ease-in-out; }
        #mobile-nav.hidden-nav { transform: translateY(100%); }
    </style>
</head>
<body class="bg-black">
    <div class="flex h-full w-full full-dvh">
        <aside class="hidden md:flex flex-col w-20 lg:w-64 h-[96%] my-auto ml-4 glass-pc rounded-3xl p-6 justify-between z-50">
            <div>
                <a href="/" class="flex items-center gap-3 mb-10 px-2 group"><div class="w-10 h-10 bg-gradient-to-tr from-red-600 to-purple-600 rounded-xl flex items-center justify-center text-xl font-bold group-hover:rotate-12 transition">V</div><span class="text-3xl font-bold hidden lg:block tracking-tighter">Vetrico</span></a>
                <nav class="flex flex-col gap-3">
                    <a href="/" class="flex items-center gap-4 px-4 py-3 rounded-2xl hover:bg-white/10 transition text-lg font-medium"><span class="text-2xl">ğŸ </span> <span class="hidden lg:block">Ana Sayfa</span></a>
                    <a href="/search" class="flex items-center gap-4 px-4 py-3 rounded-2xl hover:bg-white/10 transition text-lg font-medium"><span class="text-2xl">âš¡</span> <span class="hidden lg:block">KeÅŸfet</span></a>
                    {% if current_user.is_authenticated %}
                    <a href="/notifications" class="flex items-center gap-4 px-4 py-3 rounded-2xl hover:bg-white/10 transition text-lg font-medium relative"><span class="text-2xl">ğŸ””</span> <span class="hidden lg:block">Bildirimler</span>{% if unread_notifications > 0 %}<span class="absolute top-3 left-8 w-2 h-2 bg-red-500 rounded-full animate-ping"></span>{% endif %}</a>
                    <a href="/messages" class="flex items-center gap-4 px-4 py-3 rounded-2xl hover:bg-white/10 transition text-lg font-medium"><span class="text-2xl">ğŸ’¬</span> <span class="hidden lg:block">Mesajlar</span></a>
                    <a href="{{ url_for('profile', username=current_user.username) }}" class="flex items-center gap-4 px-4 py-3 rounded-2xl hover:bg-white/10 transition text-lg font-medium"><span class="text-2xl">ğŸ‘¤</span> <span class="hidden lg:block">Profil</span></a>
                    <a href="/upload" class="flex items-center gap-4 px-4 py-3 rounded-2xl hover:bg-white/10 transition text-lg font-medium text-red-400"><span class="text-2xl">ğŸ”¥</span> <span class="hidden lg:block">OluÅŸtur</span></a>
                    {% if current_user.is_admin %}<a href="/admin" class="flex items-center gap-4 px-4 py-3 rounded-2xl hover:bg-white/10 transition text-lg font-medium text-blue-400"><span class="text-2xl">ğŸ›¡ï¸</span> <span class="hidden lg:block">Admin</span></a>{% endif %}
                    {% else %}
                    <a href="/login" class="flex items-center gap-4 px-4 py-3 rounded-2xl bg-white/10 hover:bg-white/20 transition text-lg font-bold"><span class="text-2xl">ğŸ”‘</span> <span class="hidden lg:block">GiriÅŸ</span></a>
                    {% endif %}
                </nav>
            </div>
        </aside>
        <main class="flex-1 relative h-full w-full page-enter md:p-0"> {% block content %}{% endblock %} </main>
        <nav id="mobile-nav" class="md:hidden fixed bottom-0 left-0 w-full h-16 glass flex justify-around items-center px-2 z-50 shadow-[0_-5px_20px_rgba(0,0,0,0.5)]">
            <a href="/" class="nav-item flex flex-col items-center gap-1 text-gray-400 hover:text-white transition p-2"><svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" /></svg></a>
            <a href="/search" class="nav-item flex flex-col items-center gap-1 text-gray-400 hover:text-white transition p-2"><svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" /></svg></a>
            <a href="/upload" class="relative -top-5"><div class="w-14 h-14 rounded-full bg-gradient-to-tr from-red-600 to-pink-600 flex items-center justify-center text-3xl text-white shadow-lg border-4 border-black animate-pulse">+</div></a>
            <a href="/messages" class="nav-item flex flex-col items-center gap-1 text-gray-400 hover:text-white transition p-2"><svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z" /></svg></a>
            <a href="{{ url_for('profile', username=current_user.username) if current_user.is_authenticated else '/login' }}" class="nav-item flex flex-col items-center gap-1 text-gray-400 hover:text-white transition p-2"><svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" /></svg></a>
        </nav>
    </div>
    {% with messages = get_flashed_messages() %} 
        {% if messages %} 
        <div id="flash-message" class="fixed top-24 left-1/2 -translate-x-1/2 z-[200] w-[90%] max-w-sm pointer-events-none transition-all duration-500 ease-out transform translate-y-0 opacity-100">
            <div class="bg-gradient-to-r from-green-500 to-emerald-600 text-white p-4 rounded-2xl shadow-2xl font-bold flex items-center justify-center gap-3 text-center border border-white/20 backdrop-blur-md">
                <span class="text-xl">ğŸ</span>
                <span class="text-sm md:text-base leading-tight break-words">{{ messages[0] }}</span>
            </div>
        </div>
        <script>
            document.addEventListener('DOMContentLoaded', () => {
                const flash = document.getElementById('flash-message');
                if (flash) {
                    setTimeout(() => {
                        flash.style.transform = 'translate(-50%, -20px)';
                        flash.style.opacity = '0';
                        setTimeout(() => flash.remove(), 500);
                    }, 3000);
                }
            });
        </script>
        {% endif %} 
    {% endwith %}
</body>
</html>
